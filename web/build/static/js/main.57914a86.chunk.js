(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{268:function(e,t,n){},269:function(e,t,n){},270:function(e,t,n){},279:function(e,t,n){},345:function(e,t,n){},346:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},470:function(e,t,n){},501:function(e,t,n){"use strict";n.r(t);var a,i,c,l,r,s,o,d,u=n(0),j=n.n(u),h=n(17),m=n.n(h),b=(n(268),n(29)),p=n(32),O=n(532),v=n(89),x=n(30),f=(n(269),n(57)),g=n(526),y=Object(g.a)(a||(a=Object(f.a)(["\n    fragment EnvironmentUnit on EnvironmentUnit {\n        data\n        threshold\n        updateTime\n    }\n"]))),C=Object(g.a)(i||(i=Object(f.a)(["\n    ","\n    query GetBorderDevices {\n        getBorderDevices {\n            _id\n            name \n            lat\n            long\n            humidity {\n                ...EnvironmentUnit\n            }\n            temperature {\n                ...EnvironmentUnit\n            }\n            rain {\n                data\n                updateTime\n            } \n            dust {\n                ...EnvironmentUnit\n            }\n            coGas {\n                ...EnvironmentUnit\n            }\n            soilHumid {\n                ...EnvironmentUnit\n            }\n            cylinder \n            alert\n            locationUpdateTime\n        }\n    }\n"])),y),N=(Object(g.a)(c||(c=Object(f.a)(["\n    mutation CreateBorderDevice($input: BorderDeviceCreateInput) {\n        ","\n        createBorderDevice(input: $input) {\n            _id\n            name \n            lat\n            long\n            humidity {\n                ...EnvironmentUnit\n            }\n            temperature {\n                ...EnvironmentUnit\n            }\n            rain {\n                data\n                updateTime\n            } \n            dust {\n                ...EnvironmentUnit\n            }\n            coGas {\n                ...EnvironmentUnit\n            }\n            soilHumid {\n                ...EnvironmentUnit\n            }\n            cylinder\n            alert\n            locationUpdateTime\n        }\n    }\n"])),y),Object(g.a)(l||(l=Object(f.a)(["\n    mutation UpdateBorderDevice($input: BorderDeviceUpdateInput) {\n        ","\n        updateBorderDevice(input: $input) {\n            _id\n            name \n            lat\n            long\n            humidity {\n                ...EnvironmentUnit\n            }\n            temperature {\n                ...EnvironmentUnit\n            }\n            rain {\n                data\n                updateTime\n            } \n            dust {\n                ...EnvironmentUnit\n            }\n            coGas {\n                ...EnvironmentUnit\n            }\n            soilHumid {\n                ...EnvironmentUnit\n            }\n            cylinder\n            alert\n            locationUpdateTime\n        }\n    }\n"])),y),n(270),n(530)),T=n(517),S=n(528),E=n(527),U=n(245),D=n(518),k=n(4),w=function(){return Object(k.jsx)("header",{className:"border-bottom",children:Object(k.jsxs)(N.a,{bg:"light",expand:"lg",className:"p-0 px-2",children:[Object(k.jsx)(N.a.Brand,{href:"/",className:"p-0",children:Object(k.jsx)(T.a,{className:"header__logo"})}),Object(k.jsx)(N.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(k.jsxs)(N.a.Collapse,{id:"basic-navbar-nav",children:[Object(k.jsxs)(S.a,{className:"ml-auto d-flex align-items-center",children:[Object(k.jsx)(v.b,{to:"/",className:"px-3",style:{fontSize:"1.2rem"},children:"Home"}),Object(k.jsx)(v.b,{to:"/statistics",className:"px-3",style:{fontSize:"1.2rem"},children:"D\u1eef li\u1ec7u"}),Object(k.jsx)(v.b,{to:"/",className:"px-3 mr-3",style:{fontSize:"1.2rem"},children:"About"})]}),Object(k.jsxs)(E.a,{inline:!0,className:"mr-5 search-input",children:[Object(k.jsx)(U.a,{type:"search",placeholder:"Search",className:"mr-2","aria-label":"Search"}),Object(k.jsx)(D.a,{variant:"outline-success search-button",children:"Search"})]})]})]})})},_=(n(102),n(51)),B=n.n(_),I=(n(183),n(125)),L=n.n(I),$=n(531),G=n(533),H=n(537),z=n(538),A=(n(279),n(535)),P=Object(g.a)(r||(r=Object(f.a)(["\n    fragment EnvironmentUnit on EnvironmentUnit {\n        data\n        threshold\n        updateTime\n    }\n"]))),R=Object(g.a)(s||(s=Object(f.a)(["\n    ","\n    mutation SendAlert($id: String!) {\n        sendAlert(id: $id) {\n            _id\n            name \n            lat\n            long\n            humidity {\n                ...EnvironmentUnit\n            }\n            temperature {\n                ...EnvironmentUnit\n            }\n            rain {\n                data\n                updateTime\n            } \n            dust {\n                ...EnvironmentUnit\n            }\n            coGas {\n                ...EnvironmentUnit\n            }\n            soilHumid {\n                ...EnvironmentUnit\n            }\n            cylinder\n            alert\n            locationUpdateTime\n        }\n    }\n"])),P),M=Object(g.a)(o||(o=Object(f.a)(["\n    ","\n    mutation UpdateBorderCylinderStatus($id: String!, $status: String!) {\n        updateBorderCylinderStatus(id: $id, status: $status) {\n            _id\n            name \n            lat\n            long\n            humidity {\n                ...EnvironmentUnit\n            }\n            temperature {\n                ...EnvironmentUnit\n            }\n            rain {\n                data\n                updateTime\n            } \n            dust {\n                ...EnvironmentUnit\n            }\n            coGas {\n                ...EnvironmentUnit\n            }\n            soilHumid {\n                ...EnvironmentUnit\n            }\n            cylinder\n            alert\n            locationUpdateTime\n        }\n    }\n"])),P),F=Object(g.a)(d||(d=Object(f.a)(["\n    ","\n    mutation SetBorderThreshold($id: String!, $property: String! $value: Float!) {\n        setBorderThreshold(id: $id, property: $property, value: $value) {\n            _id\n            name \n            lat\n            long\n            humidity {\n                ...EnvironmentUnit\n            }\n            temperature {\n                ...EnvironmentUnit\n            }\n            rain {\n                data\n                updateTime\n            } \n            dust {\n                ...EnvironmentUnit\n            }\n            coGas {\n                ...EnvironmentUnit\n            }\n            soilHumid {\n                ...EnvironmentUnit\n            }\n            cylinder\n            alert\n            locationUpdateTime\n        }\n    }\n"])),P),K=function(e){(function(e){return"touches"in e})(e)&&e.touches.length<2&&e.preventDefault&&e.preventDefault()},Z=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a.shouldPreventDefault,c=void 0===i||i,l=a.delay,r=void 0===l?300:l,s=Object(u.useState)(!1),o=Object(p.a)(s,2),d=o[0],j=o[1],h=Object(u.useRef)(),m=Object(u.useRef)(),b=Object(u.useCallback)((function(t){c&&t.target&&(t.target.addEventListener("touchend",K,{passive:!1}),m.current=t.target),h.current=setTimeout((function(){e(t),j(!0)}),r)}),[e,r,c]),O=Object(u.useCallback)((function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];h.current&&clearTimeout(h.current),a&&!d&&t(),a&&d&&n(),j(!1),c&&m.current&&m.current.removeEventListener("touchend",K)}),[c,t,n,d]);return{onMouseDown:function(e){return b(e)},onTouchStart:function(e){return b(e)},onMouseUp:function(e){return O(e)},onMouseLeave:function(e){return O(e,!1)},onTouchEnd:function(e){return O(e)}}},q=function(e){var t=Object(u.useContext)(Ce),n=t.deviceState,a=t.setDeviceState,i=Object(A.a)(M),c=Object(p.a)(i,1)[0],l=Object(A.a)(R),r=Object(p.a)(l,1)[0],s=e.data,o=e.hover,d=Object(u.useState)(!1),j=Object(p.a)(d,2),h=j[0],m=j[1];Object(u.useEffect)((function(){var e={hovereId:n.hoveredId,data:n.data.map((function(e){return e._id===s._id?Object(b.a)(Object(b.a)({},e),{},{highlight:h}):e}))};a(e)}),[h]);var O=L.a.confirm,v=function(){console.log("release up"),c({variables:{id:s._id,status:"stop"}})},x={shouldPreventDefault:!0,delay:200},f=Z((function(){console.log("longpress up is triggered"),c({variables:{id:s._id,status:"up"}})}),(function(){console.log("click up is triggered")}),v,x),g=Z((function(){console.log("longpress down is triggered"),c({variables:{id:s._id,status:"down"}})}),(function(){console.log("click down is triggered")}),v,x);return Object(k.jsxs)($.a,{children:[Object(k.jsx)($.a.Toggle,{as:G.a,eventKey:s._id,className:"device-toogle",onPointerEnter:function(e){h||a(Object(b.a)(Object(b.a)({},n),{},{hoveredId:s._id}))},onPointerLeave:function(e){h||a(Object(b.a)(Object(b.a)({},n),{},{hoveredId:""}))},onClick:function(){m(!h)},id:s._id,children:Object(k.jsx)(G.a,{className:"device-item justify-content-flex-start",id:s._id,style:{backgroundColor:o?"#979ea3":""},children:Object(k.jsxs)(G.a.Text,{as:"div",className:"d-flex p-2 justify-content-space-between align-items-center",id:s._id,children:[Object(k.jsx)("i",{className:"bi-wifi px-3 align-self-center device-icon",style:{fontSize:"2.8rem"}}),Object(k.jsxs)("div",{className:"my-2",children:[Object(k.jsx)("h1",{className:"mx-3 device-name",children:s.name}),s.lat&&s.long&&Object(k.jsxs)("h4",{className:"device-location",children:["V\u1ecb tr\xed: ",s.lat[s.lat.length-1],", ",s.long[s.long.length-1]]}),s.locationUpdateTime&&Object(k.jsxs)("i",{className:"device-location-update",children:["C\u1eadp nh\u1eadt v\u1ecb tr\xed l\u1ea7n cu\u1ed1i: ",new Date(s.locationUpdateTime[s.locationUpdateTime.length-1]).toLocaleString()]})]}),Object(k.jsxs)("div",{className:"d-flex flex-column justify-content-center ml-auto mx-2",children:[Object(k.jsx)(B.a,Object(b.a)(Object(b.a)({},f),{},{icon:Object(k.jsx)(H.a,{}),size:"large"})),Object(k.jsx)(B.a,Object(b.a)(Object(b.a)({},g),{},{icon:Object(k.jsx)(z.a,{}),size:"large"}))]}),Object(k.jsx)(B.a,{style:{marginBottom:"16px"},type:"primary",danger:!0,disabled:s.alert,onClick:function(){O({title:"X\xe1c nh\u1eadn b\xe1o \u0111\u1ed9ng thi\u1ebft b\u1ecb",content:"B\xe1o \u0111\u1ed9ng thi\u1ebft b\u1ecb ".concat(s.name),onOk:function(){r({variables:{id:s._id}})},onCancel:function(){}})},children:"Alert"}),h&&Object(k.jsx)("i",{className:"fa fa-sort-desc ml-auto mx-2 align-self-start pin"}),!h&&Object(k.jsx)("i",{className:"fa fa-sort-up ml-auto mx-2 align-self-start pin"})]})})}),Object(k.jsx)($.a.Collapse,{className:"device-collapse",eventKey:s._id,children:Object(k.jsx)(G.a,{className:"device-collapse-content",children:Object(k.jsxs)(G.a.Body,{className:"d-flex flex-row px-1",children:[Object(k.jsxs)("ul",{children:[Object(k.jsxs)("li",{children:["Nhi\u1ec7t \u0111\u1ed9: ",s.temperature.data[s.temperature.data.length-1]," \xb0C"]}),Object(k.jsxs)("i",{children:["(C\u1eadp nh\u1eadt l\u1ea7n cu\u1ed1i: ",new Date(s.temperature.updateTime[s.temperature.updateTime.length-1]).toLocaleString(),")"]}),Object(k.jsxs)("li",{children:["\u0110\u1ed9 \u1ea9m: ",s.humidity.data[s.humidity.data.length-1]," %"]}),Object(k.jsxs)("i",{children:["(C\u1eadp nh\u1eadt l\u1ea7n cu\u1ed1i: ",new Date(s.humidity.updateTime[s.humidity.updateTime.length-1]).toLocaleString(),")"]}),Object(k.jsxs)("li",{children:["M\u01b0a: ",s.rain.data[s.rain.data.length-1]?"C\xf3":"Kh\xf4ng"]}),Object(k.jsxs)("i",{children:["(C\u1eadp nh\u1eadt l\u1ea7n cu\u1ed1i: ",new Date(s.rain.updateTime[s.rain.updateTime.length-1]).toLocaleString(),")"]})]}),Object(k.jsxs)("ul",{className:"pr-4",children:[Object(k.jsxs)("li",{children:["\u0110\u1ed9 b\u1ee5i: ",s.dust.data[s.dust.data.length-1]," mg/m3"]}),Object(k.jsxs)("i",{children:["(C\u1eadp nh\u1eadt l\u1ea7n cu\u1ed1i: ",new Date(s.dust.updateTime[s.dust.updateTime.length-1]).toLocaleString(),")"]}),Object(k.jsxs)("li",{children:["N\u1ed3ng \u0111\u1ed9 CO: ",s.coGas.data[s.coGas.data.length-1]," ppm"]}),Object(k.jsxs)("i",{children:["(C\u1eadp nh\u1eadt l\u1ea7n cu\u1ed1i: ",new Date(s.coGas.updateTime[s.coGas.updateTime.length-1]).toLocaleString(),")"]}),Object(k.jsxs)("li",{children:["\u0110\u1ed9 \u1ea9m \u0111\u1ea5t: ",s.soilHumid.data[s.soilHumid.data.length-1]," %"]}),Object(k.jsxs)("i",{children:["(C\u1eadp nh\u1eadt l\u1ea7n cu\u1ed1i: ",new Date(s.soilHumid.updateTime[s.soilHumid.updateTime.length-1]).toLocaleString(),")"]})]})]})})})]})},V=function(){var e=Object(u.useContext)(Ce).deviceState,t=Object(u.useState)({data:[],hoveredId:""}),n=Object(p.a)(t,2),a=n[0],i=n[1];return Object(u.useEffect)((function(){i(e)}),[e]),Object(k.jsxs)("div",{className:"device-list",children:[Object(k.jsx)(E.a,{className:"pt-2 m-1",children:Object(k.jsx)(U.a,{type:"input",placeholder:"Filter",className:"mr-5"})}),a.data&&a.data.map((function(t){return Object(k.jsx)(q,{data:t,hover:t._id===e.hoveredId},t._id)}))]})},W=(n(345),n(260)),J=(n(346),n(524)),X=n(534),Y=function(e){var t=Object(u.useContext)(Ce),n=t.deviceState,a=t.setDeviceState,i=Object(u.useState)(!1),c=Object(p.a)(i,2),l=c[0],r=c[1],s=e.hover,o=e.$hover,d=e.highlight,j=e.data,h=Object(u.useState)(!1),m=Object(p.a)(h,2),O=m[0],v=m[1],x=Object(u.useRef)(null);return Object(u.useEffect)((function(){r(o),a(Object(b.a)(Object(b.a)({},n),{},{hoveredId:o?j._id:""}))}),[o]),Object(u.useEffect)((function(){r(s)}),[s,d]),Object(u.useEffect)((function(){d&&r(d)}),[d]),Object(k.jsxs)("div",{children:[Object(k.jsx)("i",{className:"fa fa-map-marker marker-".concat(j.alert?"blink":"none"),style:{fontSize:"2.5em",transform:l||O?"scale(1.5,1.5) translate(0,-7px)":"none"},ref:x,onClick:function(e){v(!O)}}),Object(k.jsx)(J.a,{show:O||l,target:x.current,placement:"top",container:x.current,containerPadding:20,children:Object(k.jsxs)(X.a,{id:"popover-device",children:[Object(k.jsx)(X.a.Title,{style:{color:"black",fontWeight:"bold"},children:j.name}),Object(k.jsxs)(X.a.Content,{children:[j.lat[j.lat.length-1],",",j.long.length-1]})]})})]})},Q=function(e){return Object(k.jsx)("div",{className:"google-map",children:Object(k.jsx)(W.a,{bootstrapURLKeys:{key:e.apiKey},defaultCenter:e.defaultCenter,defaultZoom:e.defaultZoom,hoverDistance:30,children:e.data.data&&e.data.data.map((function(t){return Object(k.jsx)(Y,{lat:t.lat[t.lat.length-1],lng:t.long[t.long.length-1],data:t,highlight:t.highlight,hover:e.data.hoveredId===t._id},t._id)}))})})},ee=(n(348),function(e){var t,n,a=e.data,i=null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.length,c=null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.filter((function(e){return!0===(null===e||void 0===e?void 0:e.alert)})).length,l=i&&c?i-c:0;return Object(k.jsxs)("div",{className:"statistic-header",children:[Object(k.jsxs)(G.a,{className:"statistic-item px-2",id:"total-counter",children:[Object(k.jsx)(G.a.Title,{className:"statistic-title",children:"Total Devices"}),Object(k.jsx)(G.a.Text,{className:"statistic-counter",children:i})]}),Object(k.jsxs)(G.a,{className:"statistic-item px-2",id:"working-counter",children:[Object(k.jsx)(G.a.Title,{className:"statistic-title",children:"Working Devices"}),Object(k.jsx)(G.a.Text,{className:"statistic-counter",children:l})]}),Object(k.jsxs)(G.a,{className:"statistic-item px-2",id:"alert-counter",children:[Object(k.jsx)(G.a.Title,{className:"statistic-title",children:"Alert Devices"}),Object(k.jsx)(G.a.Text,{className:"statistic-counter",children:c})]})]})}),te=(n(349),function(){var e=Object(u.useContext)(Ce).deviceState;return Object(k.jsxs)("div",{className:"main-contain d-flex flex-row flex-wrap justify-content-flex-start",children:[Object(k.jsxs)("div",{className:"pt-1 middle-content d-flex flex-column justify-content-flex-start",children:[Object(k.jsx)(ee,{data:e}),Object(k.jsx)(Q,{defaultCenter:{lat:21.04,lng:105.83},defaultZoom:15,apiKey:"AIzaSyAhYGZYEzCZljjzny11bG6-hmy-0ALuSmI",data:e})]}),Object(k.jsx)("div",{className:"right-content",children:Object(k.jsx)(V,{})})]})}),ne=(n(350),n(257)),ae=n.n(ne),ie=(n(354),n(170)),ce=n.n(ie),le=n(244),re={0:"0",100:{style:{color:"#f50"},label:Object(k.jsx)("strong",{children:"100"})},50:{style:{color:"#d4d106"},label:Object(k.jsx)("strong",{children:"50"})}},se={errorThreshold:"#ff0040",safeThreshold:"#00d9ff"},oe=[{label:"Nhi\u1ec7t \u0111\u1ed9 (\xb0C)",value:"temperature",marks:re,thresholdColor:se,graphType:"bar"},{label:"\u0110\u1ed9 \u1ea9m (%)",value:"humidity",marks:re,thresholdColor:se,graphType:"bar"},{label:"M\u01b0a",value:"rain",marks:re,thresholdColor:se,graphType:"line"},{label:"\u0110\u1ed9 b\u1ee5i (mg/m3)",value:"dust",marks:re,thresholdColor:se,graphType:"bar"},{label:"N\u1ed3ng \u0111\u1ed9 CO (ppm)",value:"coGas",marks:re,thresholdColor:se,graphType:"bar"},{label:"\u0110\u1ed9 \u1ea9m \u0111\u1ea5t (%)",value:"soilHumid",marks:re,thresholdColor:se,graphType:"bar"}],de=(n(355),n(259)),ue=function(e){var t=e.data,n=e.startDate,a=e.endDate,i=e.property,c=[],l=[],r=[];t&&n&&a&&t[i.value].updateTime.forEach((function(e,s){e<=new Date(a).toISOString()&&e>=new Date(n).toISOString()&&(l.push(new Date(e).toLocaleString()),c.push(t[i.value].data[s]),r.push(t[i.value].data[s]>t[i.value].threshold?i.thresholdColor.errorThreshold:i.thresholdColor.safeThreshold))}));var s={labels:l,datasets:[{label:i.label,backgroundColor:r,borderColor:"#535252",borderWidth:1,data:c}]};return Object(k.jsx)("div",{className:"graph",children:Object(k.jsx)(de.a,{height:300,width:350,data:s,options:{plugins:{title:{display:!0,text:"Bi\u1ec3u \u0111\u1ed3 ".concat(i.label),font:{size:30},padding:20},legend:{display:!0,position:"bottom"}},scales:{y:{type:"linear",min:0}},responsive:!0,maintainAspectRatio:!1},type:"bar"})})},je=(n(461),n(255)),he=n.n(je),me=(n(463),n(180)),be=n.n(me),pe=(n(465),n(177)),Oe=n.n(pe),ve=(n(466),n(178)),xe=n.n(ve),fe=(n(470),n(254)),ge=function(e){var t=e.data,n=e.property,a=Object(A.a)(F),i=Object(p.a)(a,1)[0],c=Object(u.useState)(t[n.value].threshold),l=Object(p.a)(c,2),r=l[0],s=l[1],o=Object(u.useState)(!0),d=Object(p.a)(o,2),j=d[0],h=d[1],m=Object(fe.useMediaQuery)({query:"(max-width: 1224px)"});Object(u.useEffect)((function(){s(t[n.value].threshold)}),[n,t]),Object(u.useEffect)((function(){h(r===t[n.value].threshold)}),[r]);var b=function(e){s(e)},O=L.a.confirm,v=function(){O({title:"X\xe1c nh\u1eadn \u0111i\u1ec1u ch\u1ec9nh ng\u01b0\u1ee1ng",content:"".concat(n.label," thay \u0111\u1ed5i ch\u1ec9 s\u1ed1 t\u1eeb ").concat(t[n.value].threshold," th\xe0nh ").concat(r),onOk:function(){h(!0),i({variables:{value:r,id:t._id,property:n.value}})},onCancel:function(){}})},x=function(){h(!1),s(t[n.value].threshold)};return Object(k.jsxs)("div",{children:[!m&&Object(k.jsxs)("div",{className:"thresholdSlideItem",children:[Object(k.jsx)("h3",{className:"",children:"Thi\u1ebft l\u1eadp ng\u01b0\u1ee1ng cho ph\xe9p"}),Object(k.jsx)("h4",{className:"",children:n.label}),Object(k.jsxs)(he.a,{children:[Object(k.jsx)(Oe.a,{span:8,children:Object(k.jsx)("div",{style:{display:"inline-block",height:"45vh",marginTop:"4vh"},children:Object(k.jsx)(xe.a,{min:0,max:100,onChange:b,value:"number"===typeof r?r:0,marks:n.marks,defaultValue:t[n.value].threshold,included:!0,vertical:!0})})}),Object(k.jsxs)(Oe.a,{span:8,style:{margin:"0 16px"},children:[Object(k.jsx)(be.a,{min:0,max:100,className:"my-5",value:r,onChange:b}),Object(k.jsx)(B.a,{style:{marginBottom:"16px"},type:"primary",onClick:v,disabled:j,children:"Confirm"}),Object(k.jsx)(B.a,{style:{marginBottom:"16px"},type:"primary",danger:!0,onClick:x,children:"Reset"})]})]})]}),m&&Object(k.jsxs)("div",{className:"thresholdSlideItem",children:[Object(k.jsxs)("h3",{className:"",children:["Thi\u1ebft l\u1eadp ng\u01b0\u1ee1ng ",n.label," cho ph\xe9p"]}),Object(k.jsx)("div",{style:{marginTop:"8vh",margin:"0 20px"},children:Object(k.jsx)(xe.a,{min:0,max:100,onChange:b,value:"number"===typeof r?r:0,marks:n.marks,defaultValue:t[n.value].threshold,included:!0})}),Object(k.jsx)(be.a,{min:0,max:100,className:"my-4",style:{marginRight:"50px"},value:r,onChange:b}),Object(k.jsx)(B.a,{style:{marginRight:"10px"},type:"primary",onClick:v,disabled:j,children:"Confirm"}),Object(k.jsx)(B.a,{type:"primary",danger:!0,onClick:x,children:"Reset"})]})]})},ye=function(){var e=Object(u.useContext)(Ce).deviceState.data,t=Object(u.useState)(0),n=Object(p.a)(t,2),a=n[0],i=n[1],c=Object(u.useState)(oe[0]),l=Object(p.a)(c,2),r=l[0],s=l[1],o=Object(u.useState)(null),d=Object(p.a)(o,2),j=d[0],h=d[1],m=Object(u.useState)(null),b=Object(p.a)(m,2),O=b[0],v=b[1];Object(u.useEffect)((function(){e&&e[0]&&!j&&!O&&(h(e[a][r.value].updateTime[0].toLocaleString()),v(e[a][r.value].updateTime[e[a][r.value].updateTime.length-1].toLocaleString()))}),[e]);return Object(k.jsxs)("div",{className:"d-flex flex-row justify-content-center flex-wrap",children:[Object(k.jsxs)("div",{className:"p-3 graphContainer",children:[Object(k.jsxs)(E.a,{className:"selection-view",children:[Object(k.jsxs)(le.a,{className:"selection-form",children:[Object(k.jsx)(E.a.Label,{children:"Ch\u1ecdn thi\u1ebft b\u1ecb"}),Object(k.jsx)(E.a.Control,{as:"select",type:"name",placeholder:"Name",className:"",onChange:function(e){i(e.target.value)},children:e&&e.map((function(e,t){return Object(k.jsx)("option",{value:t,children:e.name},e._id)}))})]}),Object(k.jsxs)(le.a,{className:"selection-form",children:[Object(k.jsx)(E.a.Label,{children:"Ch\u1ecdn th\xf4ng s\u1ed1"}),Object(k.jsx)(E.a.Control,{as:"select",type:"property",placeholder:"Property",className:"",onChange:function(e){s(oe[e.target.value])},children:oe.map((function(e,t){return Object(k.jsx)("option",{value:t,children:e.label},e.label)}))})]}),Object(k.jsxs)(le.a,{className:"selection-form",children:[Object(k.jsx)(E.a.Label,{children:"Ch\u1ecdn kho\u1ea3ng th\u1eddi gian"}),Object(k.jsx)(E.a.Text,{className:"justify-self-flex-start d-flex",children:Object(k.jsx)(ae.a.RangePicker,{showTime:!0,disabledDate:function(e){return e>ce()().endOf("day")},onChange:function(e,t){},onOk:function(e){var t,n;h(null===(t=e[0])||void 0===t?void 0:t._d),v(null===(n=e[1])||void 0===n?void 0:n._d)}})})]})]}),e&&Object(k.jsx)(ue,{data:e[a],startDate:j,endDate:O,property:r})]}),Object(k.jsx)("div",{className:"setThresholdContainer",children:e&&e[a]&&"rain"!==r.value&&Object(k.jsx)(ge,{data:e[a],property:r})})]})},Ce=Object(u.createContext)({deviceState:{data:[],hoveredId:""},setDeviceState:function(){}});var Ne=function(){var e=Object(O.a)(C,{pollInterval:1e4}).data,t=Object(u.useState)({data:[],hoveredId:""}),n=Object(p.a)(t,2),a=n[0],i=n[1];return Object(u.useEffect)((function(){var t=null===e||void 0===e?void 0:e.getBorderDevices.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{highlight:!1})}));i({data:t,hoveredId:""})}),[e]),Object(k.jsx)(Ce.Provider,{value:{deviceState:a,setDeviceState:i},children:Object(k.jsx)("div",{className:"App",children:Object(k.jsx)("div",{className:"vh-100 mvw-100 m-0 flex-column flex no-wrap",children:Object(k.jsx)("main",{className:"flex-grow",children:Object(k.jsxs)(v.a,{children:[Object(k.jsx)(w,{}),Object(k.jsxs)(x.c,{children:[Object(k.jsx)(x.a,{path:"/statistics",children:Object(k.jsx)(ye,{})}),Object(k.jsx)(x.a,{path:"/",children:Object(k.jsx)(te,{})})]})]})})})})})},Te=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,539)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,l=t.getTTFB;n(e),a(e),i(e),c(e),l(e)}))},Se=n(525),Ee=n(529),Ue=n(523),De=new Se.a({uri:"http://18.141.188.154:4000/graphql",cache:new Ee.a});m.a.render(Object(k.jsx)(Ue.a,{client:De,children:Object(k.jsx)(j.a.StrictMode,{children:Object(k.jsx)(Ne,{})})}),document.getElementById("root")),Te()}},[[501,1,2]]]);
//# sourceMappingURL=main.57914a86.chunk.js.map